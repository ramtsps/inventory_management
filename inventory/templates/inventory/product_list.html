{% extends 'inventory/base.html' %} {% block content %}

<div class="container">
  <h2 class="mt-3 fw-bold text-primary">üì¶ Product List</h2>

  <!-- Summary Cards -->
  <div class="row mb-4">
    <div class="col-md-4">
      <a
        href="{% url 'inventory:category_list' %}"
        class="text-decoration-none"
      >
        <div
          class="card shadow-lg border-0 rounded-4 text-center py-3"
          style="background: #6a11cb; color: white"
        >
          <h5 class="fw-bold">üìÅ Categories</h5>
          <h2>{{ category_count }}</h2>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a
        href="{% url 'inventory:supplier_list' %}"
        class="text-decoration-none"
      >
        <div
          class="card shadow-lg border-0 rounded-4 text-center py-3"
          style="background: #2575fc; color: white"
        >
          <h5 class="fw-bold">üè∑Ô∏è Suppliers</h5>
          <h2>{{ supplier_count }}</h2>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a
        href="{% url 'inventory:low_stock_products' %}"
        class="text-decoration-none"
      >
        <div
          class="card shadow-lg border-0 rounded-4 text-center py-3"
          style="background: #dc3545; color: white"
        >
          <h5 class="fw-bold">‚ö†Ô∏è Low Stock</h5>
          <h2>{{ low_stock_count }}</h2>
        </div>
      </a>
    </div>
  </div>

  <a href="{% url 'inventory:add_product' %}" class="btn btn-success mb-3"
    >‚ûï Add Product</a
  >

  <div class="table-responsive">
    <table class="table table-hover shadow-sm rounded-3">
      <thead
        class="text-white"
        style="background: linear-gradient(135deg, #6a11cb, #2575fc)"
      >
        <tr>
          <th>Product ID</th>
          <th>Name</th>
          <th>Category</th>
          <th>Stock</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr>
          <td>#{{ product.id }}</td>
          <td>
            <a
              href="{% url 'inventory:product_detail' product.id %}"
              class="fw-bold text-primary"
            >
              {{ product.name }}
            </a>
          </td>
          <td>{{ product.category }}</td>
          <td>
            {% if product.quantity_in_stock < 10 %}
            <span class="badge bg-danger"
              >‚ö†Ô∏è Low Stock ({{ product.quantity_in_stock }})</span
            >
            {% else %} {{ product.quantity_in_stock }} {% endif %}
          </td>
          <td>${{ product.selling_price }}</td>
          <td>
            <a
              href="{% url 'inventory:edit_product' product.id %}"
              class="btn btn-warning btn-sm"
              >‚úèÔ∏è Edit</a
            >
            <a
              href="{% url 'inventory:delete_product' product.id %}"
              class="btn btn-danger btn-sm"
              >üóëÔ∏è Delete</a
            >
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="text-center">No products available.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
